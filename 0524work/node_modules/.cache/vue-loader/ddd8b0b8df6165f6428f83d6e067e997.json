{"remainingRequest":"/Users/edz/Documents/chen/webday9work/0524work/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/edz/Documents/chen/webday9work/0524work/src/views/mall.vue?vue&type=style&index=0&id=bfa1a9a4&scoped=true&lang=scss&","dependencies":[{"path":"/Users/edz/Documents/chen/webday9work/0524work/src/views/mall.vue","mtime":1622181713181},{"path":"/Users/edz/Documents/chen/webday9work/0524work/node_modules/css-loader/dist/cjs.js","mtime":1620633453452},{"path":"/Users/edz/Documents/chen/webday9work/0524work/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1620782346830},{"path":"/Users/edz/Documents/chen/webday9work/0524work/node_modules/postcss-loader/src/index.js","mtime":1620633453970},{"path":"/Users/edz/Documents/chen/webday9work/0524work/node_modules/sass-loader/dist/cjs.js","mtime":1620954567806},{"path":"/Users/edz/Documents/chen/webday9work/0524work/node_modules/cache-loader/dist/cjs.js","mtime":1620633447712},{"path":"/Users/edz/Documents/chen/webday9work/0524work/node_modules/vue-loader/lib/index.js","mtime":1620782346830}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoucmVjb3JkLWJveHsKICAgIHdpZHRoOiBhdXRvOwogICAgaGVpZ2h0OiBhdXRvOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgLmppZmVuewogICAgICAgIHdpZHRoOiA5MDBweDsKICAgICAgICBoZWlnaHQ6IDIwMHB4OwogICAgICAgIG1hcmdpbjogMjBweCA0MHB4OwogICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWFnZXMvYmFjay5wbmcpOwogICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7CiAgICAgICAgYmFja2dyb3VuZC1zaXplOiAxMDAlIDEwMCU7CiAgICAgICAgLW1vei1iYWNrZ3JvdW5kLXNpemU6MTAwJSAxMDAlOwogICAgICAgIGNvbG9yOiB3aGl0ZTsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgbGluZS1oZWlnaHQ6IDIwMHB4OwogICAgICAgIGZvbnQtc2l6ZTogMzBweDsKICAgIH0KICAgIC5wcm8tbGlzdHsKICAgICAgICB3aWR0aDogOTAwcHg7CiAgICAgICAgaGVpZ2h0OiBhdXRvOwogICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICBmbGV4LXdyYXA6IHdyYXA7CiAgICAgICAgbWFyZ2luOiAyMHB4IDQwcHg7CiAgICAgICAgZmxvYXQ6IGxlZnQ7CiAgICAgICAgLnByby1pdGVtewogICAgICAgICAgICB3aWR0aDogMjAwcHg7CiAgICAgICAgICAgIGhlaWdodDogMzAwcHg7CiAgICAgICAgICAgIG1hcmdpbjogMHB4IDIwcHggMTBweCAwcHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICBib3gtc2hhZG93OiAwIDAgMTBweCAxcHggI2UzZTRlNTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgLnByby1pbWd7CiAgICAgICAgICAgICAgICB3aWR0aDogMjAwcHg7CiAgICAgICAgICAgICAgICBoZWlnaHQ6IDIyMHB4OwogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgLnByby1uYW1lewogICAgICAgICAgICAgICAgd2lkdGg6IDIwMHB4OwogICAgICAgICAgICAgICAgaGVpZ2h0OiAzMHB4OwogICAgICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgICAgICAgICAgIG1hcmdpbjogMCA1cHg7CiAgICAgICAgICAgICAgICB0b3A6IDIzMHB4OwogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC5wcm8tcHJpY2V7CiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogMTBweDsKICAgICAgICAgICAgICAgIGJvdHRvbTogMDsKICAgICAgICAgICAgICAgIGxlZnQ6IDA7CiAgICAgICAgICAgICAgICBjb2xvcjogbGlnaHRza3libHVlOwogICAgICAgICAgICB9OwogICAgICAgICAgICAucHJvLWJ0bnsKICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMTBweDsKICAgICAgICAgICAgICAgIGJvdHRvbTogMTBweDsKICAgICAgICAgICAgICAgIHJpZ2h0OiAwOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["mall.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"mall.vue","sourceRoot":"src/views","sourcesContent":["\n<template>\n    <div class=\"record-box\">\n        <div class=\"jifen\">\n            积分：{{jifen}}\n        </div>\n        <h3 style=\"margin: 20px 40px;\">商城</h3>\n        <div class=\"pro-list\">\n            <div class=\"pro-item\" v-for=\"(item, index) in proList\" :key=\"index\">\n                <img :src=item.image alt=\"pro\" class=\"pro-img\">\n                <p class=\"pro-name\">{{item.name}}</p>\n                <p class=\"pro-price\"><i class=\"el-icon-coin\"></i>{{item.price}}积分</p>\n                <el-button size=\"mini\" round class=\"pro-btn\" @click=\"exchange(index)\">兑换</el-button>\n            </div>\n            \n        </div>\n    </div>\n</template>\n\n<script>\nimport { get, put } from '../utils/fetch.js'\nexport default {\n    name: 'mall',\n    data() {\n        return {\n            jifen:'',\n            proList: [],\n        }\n    },\n    created(){\n        this.getProList()\n        this.getJifen()\n    },\n    methods: {\n        // 获取积分余额\n        getJifen(){\n            \n            if(JSON.parse(localStorage.getItem('jifen')) === ''|| JSON.parse(localStorage.getItem('jifen')) ==null){\n                this.jifen = 500\n                localStorage.setItem('jifen', JSON.stringify(this.jifen));\n            }else{\n                this.jifen = JSON.parse(localStorage.getItem('jifen'))\n            }\n        },\n        // 兑换商品\n        exchange(index){\n            let id = this.proList[index]._id\n            let price = this.proList[index].price\n            if(this.jifen >= price){\n                this.jifen = this.jifen - price;\n                localStorage.setItem('jifen', JSON.stringify(this.jifen));\n                this.$store.commit('changeJifen', this.jifen)\n                put('/shop/exchange', {id});\n            }else{\n                alert('积分余额不足！')\n            }\n        },\n        // 获取商品列表\n        async getProList() {\n            const data = await get('/shop/shopList');\n            \n            this.proList = JSON.parse(JSON.stringify(data));\n        }\n    },\n}\n</script>\n\n<style scoped lang=\"scss\">\n.record-box{\n    width: auto;\n    height: auto;\n    position: relative;\n    .jifen{\n        width: 900px;\n        height: 200px;\n        margin: 20px 40px;\n        background-image: url(../images/back.png);\n        background-repeat: no-repeat;\n        background-size: 100% 100%;\n        -moz-background-size:100% 100%;\n        color: white;\n        text-align: center;\n        line-height: 200px;\n        font-size: 30px;\n    }\n    .pro-list{\n        width: 900px;\n        height: auto;\n        position: relative;\n        flex-wrap: wrap;\n        margin: 20px 40px;\n        float: left;\n        .pro-item{\n            width: 200px;\n            height: 300px;\n            margin: 0px 20px 10px 0px;\n            display: inline-block;\n            position: relative;\n            box-shadow: 0 0 10px 1px #e3e4e5;\n            border-radius: 10px;\n            .pro-img{\n                width: 200px;\n                height: 220px;\n                position: absolute;\n                border-radius: 10px;\n            };\n            .pro-name{\n                width: 200px;\n                height: 30px;\n                text-overflow: ellipsis;\n                overflow: hidden;\n                white-space: nowrap;\n                margin: 0 5px;\n                top: 230px;\n                position: absolute;\n            }\n            .pro-price{\n                position: absolute;\n                margin-left: 10px;\n                bottom: 0;\n                left: 0;\n                color: lightskyblue;\n            };\n            .pro-btn{\n                position: absolute;\n                margin-right: 10px;\n                bottom: 10px;\n                right: 0;\n            }\n            \n        }\n    }\n}\n</style>"]}]}